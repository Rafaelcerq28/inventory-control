<!DOCTYPE html>
<html>
<head>
  <title>Formulário de Produto</title>
</head>
<body>
  <h1>Formulário de Produto</h1>

  <form id="productForm">
    <label for="name">Nome:</label>
    <input type="text" id="name" name="name"><br><br>

    <label for="description">Descrição:</label>
    <textarea id="description" name="description"></textarea><br><br>

    <label for="brand">Marca:</label>
    <input type="text" id="brand" name="brand"><br><br>

    <label for="maxQuantity">Quantidade Máxima:</label>
    <input type="number" id="maxQuantity" name="maxQuantity"><br><br>

    <label for="minQuantity">Quantidade Mínima:</label>
    <input type="number" id="minQuantity" name="minQuantity"><br><br>

    <label for="quantity">Quantidade:</label>
    <input type="number" id="quantity" name="quantity"><br><br>

    <label for="weight">Peso:</label>
    <input type="number" id="weight" name="weight"><br><br>

    <input type="submit" value="Enviar">
  </form>

  <script>
    document.getElementById("productForm").addEventListener("submit", function(event) {
      event.preventDefault(); // Evita o envio padrão do formulário

      // Obtém os valores dos campos do formulário
      var name = document.getElementById("name").value;
      var description = document.getElementById("description").value;
      var brand = document.getElementById("brand").value;
      var maxQuantity = document.getElementById("maxQuantity").value;
      var minQuantity = document.getElementById("minQuantity").value;
      var quantity = document.getElementById("quantity").value;
      var weight = document.getElementById("weight").value;

      // Cria um objeto JSON com os dados do formulário
      var productData = {
        "name": name,
        "description": description,
        "brand": brand,
        "maxQuantity": maxQuantity,
        "minQuantity": minQuantity,
        "quantity": quantity,
        "weight": weight
      };

      // Envia o JSON para o endpoint
      var xhr = new XMLHttpRequest();
      xhr.open("POST", "http://localhost:8080/product");
      xhr.setRequestHeader("Content-Type", "application/json");
      xhr.send(JSON.stringify(productData));

      // Lida com a resposta do servidor (opcional)
      xhr.onreadystatechange = function() {
        if (xhr.readyState === 4 && xhr.status === 200) {
          alert("Dados enviados com sucesso!");
        }
      };
    });
  </script>
</body>
</html>
